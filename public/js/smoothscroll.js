(function(){var e={frameRate:150,animationTime:400,stepSize:120,pulseAlgorithm:true,pulseScale:4,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:true,arrowScroll:50,touchpadSupport:true,fixedBackground:true,excluded:""};var t=e;var r=false;var a=false;var o={x:0,y:0};var n=false;var i=document.documentElement;var l;var u;var c=[];var s=/^Mac/.test(navigator.platform);var f={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};var t=e;function d(){if(t.keyboardSupport){L("keydown",y)}}function v(){if(n||!document.body){return}n=true;var e=document.body;var o=document.documentElement;var c=window.innerHeight;var s=e.scrollHeight;i=document.compatMode.indexOf("CSS")>=0?o:e;l=e;d();if(top!=self){a=true}else{if(s>c&&(e.offsetHeight<=c||o.offsetHeight<=c)){var f=document.createElement("div");f.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+i.scrollHeight+"px";document.body.appendChild(f);var v;var m=function(){if(v){return}v=setTimeout(function(){if(r){return}f.style.height="0";f.style.height=i.scrollHeight+"px";v=null},500)};setTimeout(m,10);var h={attributes:true,childList:true,characterData:false};u=new P(m);u.observe(e,h);if(i.offsetHeight<=c){var w=document.createElement("div");w.style.clear="both";e.appendChild(w)}}}if(!t.fixedBackground&&!r){e.style.backgroundAttachment="scroll";o.style.backgroundAttachment="scroll"}}function m(){u&&u.disconnect();X(_,g);X("mousedown",S);X("keydown",y)}var h=[];var w=false;var p=Date.now();function b(e,r,a){B(r,a);if(t.accelerationMax!=1){var o=Date.now();var n=o-p;if(n<t.accelerationDelta){var i=(1+50/n)/2;if(i>1){i=Math.min(i,t.accelerationMax);r*=i;a*=i}}p=Date.now()}h.push({x:r,y:a,lastX:r<0?.99:-.99,lastY:a<0?.99:-.99,start:Date.now()});if(w){return}var l=e===document.body;var u=function(o){var n=Date.now();var i=0;var c=0;for(var s=0;s<h.length;s++){var f=h[s];var d=n-f.start;var v=d>=t.animationTime;var m=v?1:d/t.animationTime;if(t.pulseAlgorithm){m=I(m)}var p=f.x*m-f.lastX>>0;var b=f.y*m-f.lastY>>0;i+=p;c+=b;f.lastX+=p;f.lastY+=b;if(v){h.splice(s,1);s--}}if(l){window.scrollBy(i,c)}else{if(i){e.scrollLeft+=i}if(c){e.scrollTop+=c}}if(!r&&!a){h=[]}if(h.length){R(u,e,1e3/t.frameRate+1)}else{w=false}};R(u,e,0);w=true}function g(e){if(!n){v()}var r=e.target;var a=E(r);if(!a||e.defaultPrevented||e.ctrlKey){return true}if(Y(l,"embed")||Y(r,"embed")&&/\.pdf/i.test(r.src)||Y(l,"object")){return true}var o=-e.wheelDeltaX||e.deltaX||0;var i=-e.wheelDeltaY||e.deltaY||0;if(s){if(e.wheelDeltaX&&N(e.wheelDeltaX,120)){o=-120*(e.wheelDeltaX/Math.abs(e.wheelDeltaX))}if(e.wheelDeltaY&&N(e.wheelDeltaY,120)){i=-120*(e.wheelDeltaY/Math.abs(e.wheelDeltaY))}}if(!o&&!i){i=-e.wheelDelta||0}if(e.deltaMode===1){o*=40;i*=40}if(!t.touchpadSupport&&K(i)){return true}if(Math.abs(o)>1.2){o*=t.stepSize/120}if(Math.abs(i)>1.2){i*=t.stepSize/120}b(a,o,i);e.preventDefault();M()}function y(e){var r=e.target;var a=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==f.spacebar;if(!document.contains(l)){l=document.activeElement}var o=/^(textarea|select|embed|object)$/i;var n=/^(button|submit|radio|checkbox|file|color|image)$/i;if(o.test(r.nodeName)||Y(r,"input")&&!n.test(r.type)||Y(l,"video")||O(e)||r.isContentEditable||e.defaultPrevented||a){return true}if((Y(r,"button")||Y(r,"input")&&n.test(r.type))&&e.keyCode===f.spacebar){return true}var i,u=0,c=0;var s=E(l);var d=s.clientHeight;if(s==document.body){d=window.innerHeight}switch(e.keyCode){case f.up:c=-t.arrowScroll;break;case f.down:c=t.arrowScroll;break;case f.spacebar:i=e.shiftKey?1:-1;c=-i*d*.9;break;case f.pageup:c=-d*.9;break;case f.pagedown:c=d*.9;break;case f.home:c=-s.scrollTop;break;case f.end:var v=s.scrollHeight-s.scrollTop-d;c=v>0?v+10:0;break;case f.left:u=-t.arrowScroll;break;case f.right:u=t.arrowScroll;break;default:return true}b(s,u,c);e.preventDefault();M()}function S(e){l=e.target}var x=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}();var k={};var D;function M(){clearTimeout(D);D=setInterval(function(){k={}},1*1e3)}function T(e,t){for(var r=e.length;r--;){k[x(e[r])]=t}return t}function E(e){var t=[];var r=document.body;var o=i.scrollHeight;do{var n=k[x(e)];if(n){return T(t,n)}t.push(e);if(o===e.scrollHeight){var l=C(i)&&C(r);var u=l||z(i);if(a&&H(i)||!a&&u){return T(t,j())}}else{if(H(e)&&z(e)){return T(t,e)}}}while(e=e.parentElement)}function H(e){return e.clientHeight+10<e.scrollHeight}function C(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return t!=="hidden"}function z(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return t==="scroll"||t==="auto"}function L(e,t){window.addEventListener(e,t,false)}function X(e,t){window.removeEventListener(e,t,false)}function Y(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function B(e,t){e=e>0?1:-1;t=t>0?1:-1;if(o.x!==e||o.y!==t){o.x=e;o.y=t;h=[];p=0}}var A;if(window.localStorage&&localStorage.SS_deltaBuffer){c=localStorage.SS_deltaBuffer.split(",")}function K(e){if(!e){return}if(!c.length){c=[e,e,e]}e=Math.abs(e);c.push(e);c.shift();clearTimeout(A);A=setTimeout(function(){if(window.localStorage){localStorage.SS_deltaBuffer=c.join(",")}},1e3);return!q(120)&&!q(100)}function N(e,t){return Math.floor(e/t)==e/t}function q(e){return N(c[0],e)&&N(c[1],e)&&N(c[2],e)}function O(e){var t=e.target;var r=false;if(document.URL.indexOf("www.youtube.com/watch")!=-1){do{r=t.classList&&t.classList.contains("html5-video-controls");if(r){break}}while(t=t.parentNode)}return r}var R=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,r){window.setTimeout(e,r||1e3/60)}}();var P=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var j=function(){var e;return function(){if(!e){var t=document.createElement("div");t.style.cssText="height:10000px;width:1px;";document.body.appendChild(t);var r=document.body.scrollTop;var a=document.documentElement.scrollTop;window.scrollBy(0,1);if(document.body.scrollTop!=r){e=document.body}else{e=document.documentElement}window.scrollBy(0,-1);document.body.removeChild(t)}return e}}();function F(e){var r,a,o;e=e*t.pulseScale;if(e<1){r=e-(1-Math.exp(-e))}else{a=Math.exp(-1);e-=1;o=1-Math.exp(-e);r=a+o*(1-a)}return r*t.pulseNormalize}function I(e){if(e>=1){return 1}if(e<=0){return 0}if(t.pulseNormalize==1){t.pulseNormalize/=F(1)}return F(e)}var _;if("onwheel"in document.createElement("div")){_="wheel"}else{if("onmousewheel"in document.createElement("div")){_="mousewheel"}}if(_){L(_,g);L("mousedown",S);L("load",v)}})();